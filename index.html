<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Textend V.&#8734;</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/bamboo.css">

    <script src="lib/jquery-2.1.1.min.js"></script>
    <script src="js/outline.js"></script>
    <script src="js/rightClick.js"></script>
    <script src="js/setTitle.js"></script>
    <script src="lib/knockout-3.2.0.js"></script>
    <script src="js/textFileModel.js"></script>
    <script src="js/docChange.js"></script>

    <script>
    function search() {

        var name = document.getElementById("searchForm").elements["searchItem"].value;
        var pattern = name.toLowerCase();
        var targetId = "";
        var divs = document.getElementsByClassName("textention");

        $(".textention").css("background-color", "transparent").css("color", "#e2e2e2");

        for (var i = 0; i < divs.length; i++) {
            var para = divs[i]; //.getElementsByTagName("p");
            var index = para.innerText.toLowerCase().indexOf(pattern);
            if (index != -1) {
                targetId = divs[i].id;
                var target = document.getElementById(targetId)
                target.scrollIntoView();
                target.style.backgroundColor = "#ffff00"
                target.style.color = "#000000";
                break;
            }
        }
    }
    </script>
</head>

<body>
    <div id="wrapper">
        <nav id="main-nav" class="navigation overflow">
            <ul>
                

                <li style="padding:5px; border-bottom:0">
                    <button id="openDocButton" type="button" class="btn btn-default" data-toggle="modal" data-target="#openDocModal" style="width:100%">Open Document</a>
                        <button id="closeDocButton" type="button" class="btn btn-default" data-toggle="modal" data-target="#openDocModal" style="width:100%;display:none;">Close Document</a>
                </li>
                <li style="margin: 20px auto 30px; border: 0;">
                    <form id="searchForm" action="javascript:search();">
                        <div class="input-group" style="block">
                            <input type="text" id="searchItem" class="form-control" placeholder="Search" style="display:inline-block;">
                            <div class="input-group-btn">
                                <button id="go" class="btn btn-default btn-xs" type="button" onclick="document.getElementById('searchForm').submit(); return false;" style="display:inline-block"><i class="glyphicon glyphicon-search"></i>
                                </button>
                            </div>

                        </div>
                    </form>
                </li>
                <!-- <hr> -->
                <li style="border-top: solid 2px rgba(0,0,0,0.1);"><a href="#" id="showText"><span class="glyphicon glyphicon-book"></span>&nbsp;Text</a>
                </li>
                <!-- <li><a href="#"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Annotations</a>
                </li> -->
                <li><a id="showOutline" href="#"><span class="glyphicon glyphicon-th-list"></span>&nbsp;Outline</a>
                </li>
                <li>
                    <button data-toggle="modal" data-target="#settingsModal" style="border:0; width:100%;font-weight:100;text-align:left;font-family: 'Open Sans', sans-serif; line-height:40px"><span class="glyphicon glyphicon-cog"></span>&nbsp;Settings
                    </button>
                </li>
                <li><a href="#" data-toggle="modal" data-target="#helpModal"><span class="glyphicon glyphicon-question-sign"></span>&nbsp;Help</a>
                </li>
                
            </ul>
        </nav>

        <div class='custom-menu'>
            <a href="#" onClick="addToOutline()">Add To Outline</a>
        </div>


        <div id="container">

            <header id="title" class="primary">
                <span class="open icon">&#9776;</span>
                <hgroup>
                    <h1 class="bookTitle" style="color:#e5e5e5"></h1>
                    <h1 class="bookAuthor" style="color:#e5e5e5"></h1>
                </hgroup>
            </header>

            <section id="scroller" class="overflow">
                <div id="doc">
                    <p id="docContent" class="textention"></p>
                </div>
                <div id="outline">
                    <p id="outlineContent" class="textention">
                        <ul id="outlineContent"></ul>
                    </p>
                </div>
            </section>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="openDocModal" tabindex="-1" role="dialog" aria-labelledby="openModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title" id="openModalLabel">Open Document</h4>
                    </div>
                    <div class="modal-body">
                        <input type="file" name="file" id="file" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" style="float: left" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" style="float: right" class="btn btn-primary" data-dismiss="modal" id="openBtn">Open</button>
                        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /Modal -->

        <!-- Settings Modal -->
        <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title" id="settingsModalLabel">Settings</h4>
                    </div>
                    <div class="modal-body">
                        font size
                        <select id="fontSizeSelect">
                            <option value="10">10</option>
                            <option value="15" selected="selected">15</option>
                            <option value="20">20</option>
                            <option value="25">25</option>
                            <option value="30">30</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" style="float: left" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" style="float: right" data-dismiss="modal" id="saveSettingsBtn">Save settings</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /End Settings Modal -->

        <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span>
                            <span class="sr-only">Close</span>
                        </button>
                        <h4 class="modal-title" id="helpModalLabel">Help</h4>
                    </div>
                    <div class="modal-body">
                        <!-- TODO -->
                        <p><span class="glyphicon glyphicon-question-sign"></span>&nbsp;Select text and right click to add to outline</p>
                        <p><span class="glyphicon glyphicon-question-sign"></span>&nbsp;Press the "Open Document Button to open a document</p>
                        <p><span class="glyphicon glyphicon-question-sign"></span>&nbsp;Enter text into the "Search Bar" and then press the search button to search</p>
                        <!-- <p><span class="glyphicon glyphicon-question-sign"></span>&nbsp;</p> -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="http://code.jquery.com/jquery-2.0.0.min.js"></script>
    <script src="js/bamboo.0.1.js"></script>
    <script src="lib/jquery-2.1.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/loadfile.js"></script>
    <script>
    var site = new Bamboo();
    </script>
</body>


</html>
